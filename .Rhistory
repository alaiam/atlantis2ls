devtools::load_all(".")
devtools::load_all(".")
??read_atlantis
??atlantis2ls::read_atlantis
??osmose2R
library(osmose)
substrRight("htregbfdgdf/",1)
str_sub("htregbfdgdf/",-1)
library("stringr" )
str_sub("htregbfdgdf/",-1)
devtools::load_all(".")
fg <- fg %>% filter(IsTurnedOn==1)
extract_volume <- function(outputs.nc){
ncdf4::ncvar_get(outputs.nc, volume)
}
devtools::load_all(".")
devtools::load_all(".")
devtools::load_all(".")
?paste0
print("Atlantis run is done!")
#' run_atlantis
#'
#' @return
#' @export
#'
#' @examples
run_atlantis <- function(path, sh.file) {
system(paste0("cd ",path ," sudo flip -uv *; sudo chmod +x ", sh.file,"; sudo sh ./", sh.file), wait = TRUE)
print("Atlantis run is done!")
}
run_atlantis
devtools::load_all(".")
devtools::load_all(".")
devtools::load_all(".")
devtools::load_all(".")
devtools::load_all(".")
devtools::install_git(https://github.com/alaiam/atlantis2ls)
devtools::install_git("https://github.com/alaiam/atlantis2ls)
devtools::install_git("https://github.com/alaiam/atlantis2ls")
devtools::install_git("https://github.com/alaiam/atlantis2ls")
library(atlantis2ls)
??edit_param_mum_group_age
??atlantis2ls::edit_param_mum_group_age
devtools::document()
?run_atlantis
edit_param_mum_group_age
?edit_param_mum_group_age
devtools::load_all(".")
?edit_param_mum_group_age
devtools::load_all(".")
devtools::document()
?edit_param_mum_group_age
113+124+121+70+70
5951-498
5483-498
#demo
path = "C:/Users/Alaia/Desktop/Postdoc/R script/atlantis2ls/data"
prefix = "AMPS"
fg.file = "C:/Users/Alaia/Desktop/Postdoc/R script/atlantis2ls/data/PugetSoundAtlantisFunctionalGroups_salmon_rectype4.csv"
bio.prm = "C:/Users/Alaia/Desktop/Postdoc/R script/atlantis2ls/data/AMPSbioparam_mv1_2022.prm"
bio.prm2 = "C:/Users/Alaia/Desktop/Postdoc/R script/atlantis2ls/data/AMPSbioparam_mv1_20222.prm"
#Get mum_XXX bio.prm lines
bio.lines = readLines(bio.prm)
pattern = paste0('BHalpha_',species)
species = "HEP"
#Get mum_XXX bio.prm lines
bio.lines = readLines(bio.prm)
pattern = paste0('BHalpha_',species)
bio.lines.id = grep(pattern,bio.lines)
bio.lines.vals1 = bio.lines[bio.lines.id]
if (length(bio.lines.vals1)==0) stop("The species does not have a BHalpha parameter")
bio.lines.vals1
if (length(bio.lines.vals1)==0) stop("The species does not have a BHalpha parameter")
value <- as.numeric(unlist(strsplit(bio.lines.vals1, "\t"))[2])*factor
bio.lines.vals1
factor
factor = 2
value <- as.numeric(unlist(strsplit(bio.lines.vals1, "\t"))[2])*factor
name <- unlist(strsplit(bio.lines.vals1, "\t"))[1]
new.line <- paste0(name, "\t", value)
bio.lines[bio.lines.id] <- new.line
bio.lines
devtools::load_all(".")
devtools::document()
devtools::load_all(".")
path = "C:/Users/Alaia/Desktop/Postdoc/R script/atlantis2ls/data"
prefix = "AMPS"
fg.file = "C:/Users/Alaia/Desktop/Postdoc/R script/atlantis2ls/data/PugetSoundAtlantisFunctionalGroups_salmon_rectype4.csv"
bio.prm = "C:/Users/Alaia/Desktop/Postdoc/R script/atlantis2ls/data/AMPSbioparam_mv1_2022.prm"
bio.prm2 = "C:/Users/Alaia/Desktop/Postdoc/R script/atlantis2ls/data/AMPSbioparam_mv1_20222.prm"
?edit_param_sp
??edit_param_sp
edit_param_sp(bio.prm, param = "mUm", factor = 2, species = "HEP")
edit_param_sp(bio.prm, param = "bhbeta", factor = 2, species = "HEP")
devtools::load_all(".")
devtools::document()
#' edit_param_sp
#'
#' @param bio.prm
#' @param param
#' @param factor
#' @param species
#'
#' @return
#' @export
#'
#' @examples
edit_param_sp = function(bio.prm, param, factor, species){
if (tolower(param) == "mum"){
edit_param_mum_sp(bio.prm, factor, species)
}
if (tolower(param) == "bhbeta"){
edit_param_BHBeta_sp(bio.prm, factor, species)
}
if (tolower(param) == "bhaphla"){
edit_param_BHalpha_sp(bio.prm, factor, species)
}
}
edit_param_sp(bio.prm, param = "bhbeta", factor = 2, species = "HEP")
devtools::load_all(".")
devtools::load_all(".")
devtools::load_all(".")
load_all()
edit_param_sp(bio.prm, param = "bhbeta", factor = 2, species = "HEP")
devtools::load_all(".")
edit_param_sp(bio.prm, param = "bhbeta", factor = 2, species = "HEP")
a <- edit_param_sp(bio.prm, param = "bhbeta", factor = 2, species = "HEP")
devtools::load_all(".")
devtools::load_all(".")
edit_param_sp(bio.prm, param = "bhbeta", factor = 2, species = "HEP")
